# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_passengers, threshold = 0, clone_cmap = "jet")
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers
color_by_drivers
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
f <- "~/Documents/GitHub/tumor-evolution-HAL/test_new.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/test_new.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/test_new.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
hal_info
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
drivers
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
hal_plot_df
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
color_by_passengers
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
hal_plot_df
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
library(colormap)
library(ggplot2)
read.HAL <- function(path_to_file){
### FOR TESTING ###
# path_to_file <- f
###
clone_df <- read.csv(f, check.names = F, stringsAsFactors = F)
df_cols <- colnames(clone_df)
time_col_idx <- suppressWarnings(which(!is.na(as.numeric(df_cols))))
time_cols <- df_cols[time_col_idx]
size_df <- clone_df[, time_cols]
attribute_col_idx <- which(!df_cols %in% c(time_cols, "CloneID", "ParentID"))
if(length(attribute_col_idx) > 0){
attribute_df <- cbind(data.frame("CloneID"=clone_df$CloneID),clone_df[, attribute_col_idx])
}else{
attribute_df <- NULL
}
return(list("clones"=clone_df$CloneID, "parents"=clone_df$ParentID, "size_df"=size_df, "attributes"=attribute_df))
}
library(EvoFreq)
library(ggplot2)
library(colormap)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
driver_colors <- c("#3874b1", "#c6382c","#4f9f39", "#bdbe3a","#8e66ba","#f08627","#53bbce", "#d67bbf","#85584c", "#b2c5e6","#f39c97", "#a6de90","#dcdc93","#c2aed3","#f6bf7e","#a9d8e4","#eeb8d1","#be9d92","#c7c7c7","#7f7f7f")
passenger_colors <- colormap("density")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
driver_colors <- c("#3874b1", "#c6382c","#4f9f39", "#bdbe3a","#8e66ba","#f08627","#53bbce", "#d67bbf","#85584c", "#b2c5e6","#f39c97", "#a6de90","#dcdc93","#c2aed3","#f6bf7e","#a9d8e4","#eeb8d1","#be9d92","#c7c7c7","#7f7f7f")
passenger_colors <- colormap("density")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
driver_colors <- c("#3874b1", "#c6382c","#4f9f39", "#bdbe3a","#8e66ba","#f08627","#53bbce", "#d67bbf","#85584c", "#b2c5e6","#f39c97", "#a6de90","#dcdc93","#c2aed3","#f6bf7e","#a9d8e4","#eeb8d1","#be9d92","#c7c7c7","#7f7f7f")
passenger_colors <- colormap("density")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
driver_colors <- c("#3874b1", "#c6382c","#4f9f39", "#bdbe3a","#8e66ba","#f08627","#53bbce", "#d67bbf","#85584c", "#b2c5e6","#f39c97", "#a6de90","#dcdc93","#c2aed3","#f6bf7e","#a9d8e4","#eeb8d1","#be9d92","#c7c7c7","#7f7f7f")
passenger_colors <- colormap("density")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
driver_colors <- c("#3874b1", "#c6382c","#4f9f39", "#bdbe3a","#8e66ba","#f08627","#53bbce", "#d67bbf","#85584c", "#b2c5e6","#f39c97", "#a6de90","#dcdc93","#c2aed3","#f6bf7e","#a9d8e4","#eeb8d1","#be9d92","#c7c7c7","#7f7f7f")
passenger_colors <- colormap("density")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
driver_colors <- c("#3874b1", "#c6382c","#4f9f39", "#bdbe3a","#8e66ba","#f08627","#53bbce", "#d67bbf","#85584c", "#b2c5e6","#f39c97", "#a6de90","#dcdc93","#c2aed3","#f6bf7e","#a9d8e4","#eeb8d1","#be9d92","#c7c7c7","#7f7f7f")
passenger_colors <- colormap("density")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
driver_colors <- c("#3874b1", "#c6382c","#4f9f39", "#bdbe3a","#8e66ba","#f08627","#53bbce", "#d67bbf","#85584c", "#b2c5e6","#f39c97", "#a6de90","#dcdc93","#c2aed3","#f6bf7e","#a9d8e4","#eeb8d1","#be9d92","#c7c7c7","#7f7f7f")
passenger_colors <- colormap("density")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
driver_colors <- c("#3874b1", "#c6382c","#4f9f39", "#bdbe3a","#8e66ba","#f08627","#53bbce", "#d67bbf","#85584c", "#b2c5e6","#f39c97", "#a6de90","#dcdc93","#c2aed3","#f6bf7e","#a9d8e4","#eeb8d1","#be9d92","#c7c7c7","#7f7f7f")
passenger_colors <- colormap("density")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
driver_colors <- c("#3874b1", "#c6382c","#4f9f39", "#bdbe3a","#8e66ba","#f08627","#53bbce", "#d67bbf","#85584c", "#b2c5e6","#f39c97", "#a6de90","#dcdc93","#c2aed3","#f6bf7e","#a9d8e4","#eeb8d1","#be9d92","#c7c7c7","#7f7f7f")
passenger_colors <- colormap("density")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
driver_colors <- c("#3874b1", "#c6382c","#4f9f39", "#bdbe3a","#8e66ba","#f08627","#53bbce", "#d67bbf","#85584c", "#b2c5e6","#f39c97", "#a6de90","#dcdc93","#c2aed3","#f6bf7e","#a9d8e4","#eeb8d1","#be9d92","#c7c7c7","#7f7f7f")
passenger_colors <- colormap("density")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
driver_colors <- c("#3874b1", "#c6382c","#4f9f39", "#bdbe3a","#8e66ba","#f08627","#53bbce", "#d67bbf","#85584c", "#b2c5e6","#f39c97", "#a6de90","#dcdc93","#c2aed3","#f6bf7e","#a9d8e4","#eeb8d1","#be9d92","#c7c7c7","#7f7f7f")
passenger_colors <- colormap("density")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
driver_colors <- c("#3874b1", "#c6382c","#4f9f39", "#bdbe3a","#8e66ba","#f08627","#53bbce", "#d67bbf","#85584c", "#b2c5e6","#f39c97", "#a6de90","#dcdc93","#c2aed3","#f6bf7e","#a9d8e4","#eeb8d1","#be9d92","#c7c7c7","#7f7f7f")
passenger_colors <- colormap("density")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
# f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/evofreq_dataframe.csv"
hal_info <- read.HAL(f)
passengers <- hal_info$attributes$Passengers
drivers <- hal_info$attributes$Drivers
driver_colors <- c("#3874b1", "#c6382c","#4f9f39", "#bdbe3a","#8e66ba","#f08627","#53bbce", "#d67bbf","#85584c", "#b2c5e6","#f39c97", "#a6de90","#dcdc93","#c2aed3","#f6bf7e","#a9d8e4","#eeb8d1","#be9d92","#c7c7c7","#7f7f7f")
passenger_colors <- colormap("density")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = passengers, threshold = 0, clone_cmap = "jet")
color_by_passengers <- passenger_colors[passengers+1]
color_by_drivers <- driver_colors[drivers]
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0, clone_cmap = "jet")
# hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = color_by_drivers, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_info
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$color, threshold = 0, clone_cmap = "jet")
plot_evofreq(hal_plot_df)
hal_info$color
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$Color, threshold = 0, clone_cmap = "jet")
plot_evofreq(hal_plot_df)
hal_info$Color
hal_info <- read.HAL(f)
colnames(hal_info)
read.HAL <- function(path_to_file){
### FOR TESTING ###
# path_to_file <- f
###
clone_df <- read.csv(f, check.names = F, stringsAsFactors = F)
df_cols <- colnames(clone_df)
time_col_idx <- suppressWarnings(which(!is.na(as.numeric(df_cols))))
time_cols <- df_cols[time_col_idx]
size_df <- clone_df[, time_cols]
attribute_col_idx <- which(!df_cols %in% c(time_cols, "CloneID", "ParentID"))
if(length(attribute_col_idx) > 0){
attribute_df <- cbind(data.frame("CloneID"=clone_df$CloneID),clone_df[, attribute_col_idx])
}else{
attribute_df <- NULL
}
return(list("clones"=clone_df$CloneID, "parents"=clone_df$ParentID, "size_df"=size_df, "attributes"=attribute_df))
}
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_info
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0, clone_cmap = "jet")
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0.01)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0)
plot_evofreq(hal_plot_df)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Passengers, threshold = 0, clone_cmap = "jet")
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0)
plot_evofreq(hal_plot_df)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0)
plot_evofreq(hal_plot_df)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, threshold = 0, clone_cmap = "jet")
plot_evofreq(hal_plot_df)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, threshold = 0, clone_cmap = "rainbow-soft")
plot_evofreq(hal_plot_df)
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, threshold = 0, clone_cmap = "magma")
plot_evofreq(hal_plot_df)
detach("package:EvoFreq", unload = TRUE) # May throw error, it is ok
remove.packages("EvoFreq") # May throw error, it is ok
install.packages('devtools')
library(devtools)
install_github('MathOnco/EvoFreq', ref = "HAL_integration")
library(colormap)
library(ggplot2)
library(EvoFreq)
library(ggplot2)
library(colormap)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
hal_info
library(EvoFreq)
library(ggplot2)
library(colormap)
f <- "~/Documents/GitHub/tumor-evolution-HAL/data-output/phylogeny_tracker.csv"
hal_info <- read.HAL(f)
library(EvoFreq)
?EvoFreq
??EvoFreq
hal_plot_df <- get_evofreq(size_df = hal_info$size_df, clones=hal_info$clones, parents=hal_info$parents, fill_value = hal_info$attributes$Color, threshold = 0)
plot_evofreq(hal_plot_df)
hal_info <- read.HAL(f)
read.HAL
??read.HAL
## remove Evofreq
detach("package:EvoFreq", unload = TRUE) # May throw error, it is ok
remove.packages("EvoFreq") # May throw error, it is ok
detach("package:EvoFreq", unload = TRUE) # May throw error, it is ok
remove.packages("EvoFreq") # May throw error, it is ok
